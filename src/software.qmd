---
title: Software
params:
  software_fn: "w3tm-software-versions.csv"
  googlesheets_fn: "w3tm-shack-software"
---

::: {.callout-warning}
This page is under construction.
:::

::: {.callout-important}
These sections are generated by 

1. Downloading a database (Google Sheet located [here](https://docs.google.com/spreadsheets/d/1cFwJXnEcdlGuQz2KYTgB8KL_VRJzy7k9QHXjIuHl40w/edit?gid=0#gid=0)) with the latest versions of the software packages installed the W3TM shack computers. This is downloaded as a CSV.
2. Parsing the downloaded CSV data file in `include/csv/software_versions.csv`.

The code is hidden in the output for aesthetic reasons, but may be revealed by examining the source code file.
:::

## Set-up

The following code downloads that file.

```{r}
#| echo: false
#| label: download-software-version-tracker-file
#| message: false

csv_path <- file.path("include", "csv")
if (!dir.exists(csv_path)) {
  message("Creating missing directory: ", csv_path)
  dir.create(csv_path)
  assertthat::is.writeable(csv_path)
}

options(gargle_oauth_email = Sys.getenv("GMAIL_ACCT"))
googledrive::drive_auth()

assertthat::is.string(params$googlesheets_fn)
assertthat::is.string(params$software_fn)
googledrive::drive_download(
  params$googlesheets_fn,
  path = file.path(csv_path, params$software_fn),
  type = "csv",
  overwrite = TRUE
)
```

Then, we import the downloaded data.

```{r}
#| echo: false
software_versions <- readr::read_csv(file.path(csv_path, params$software_fn), show_col_types = FALSE)
```


## Summary

```{r}
software_versions |>
  dplyr::select(machine, package, type) |>
  dplyr::arrange(machine, type, package) |>
  knitr::kable(format = 'html') |>
  kableExtra::kable_material()
```


## MacBook Pro

<!-- ## Digital modes -->

<!-- ### NARC1 -->

<!-- ```{r} -->
<!-- #| echo: false -->
<!-- #| label: tbl-narc1-digital -->
<!-- software_versions |> -->
<!--   dplyr::filter(type == "digital", station == "narc1") |> -->
<!--   dplyr::select(software, version, date) |> -->
<!--   dplyr::arrange(software) |> -->
<!--   knitr::kable(format = "html") |> -->
<!--   kableExtra::kable_material() -->
<!-- ``` -->

<!-- ### NARC2 -->

<!-- ```{r} -->
<!-- #| echo: false -->
<!-- #| label: tbl-narc2-digital -->
<!-- software_versions |> -->
<!--   dplyr::filter(type == "digital", station == "narc2") |> -->
<!--   dplyr::select(software, version, date) |> -->
<!--   dplyr::arrange(software) |> -->
<!--   knitr::kable(format = "html") |> -->
<!--   kableExtra::kable_material() -->
<!-- ``` -->

<!-- ## Logging -->

<!-- ### NARC1 -->

<!-- ```{r} -->
<!-- #| echo: false -->
<!-- #| label: tbl-narc1-logging -->
<!-- software_versions |> -->
<!--   dplyr::filter(type == "logging", station == "narc1") |> -->
<!--   dplyr::select(software, version, date) |> -->
<!--   dplyr::arrange(software) |> -->
<!--   knitr::kable(format = "html") |> -->
<!--   kableExtra::kable_material() -->
<!-- ``` -->

<!-- ### NARC2 -->

<!-- ```{r} -->
<!-- #| echo: false -->
<!-- #| label: tbl-narc2-logging -->
<!-- software_versions |> -->
<!--   dplyr::filter(type == "logging", station == "narc2") |> -->
<!--   dplyr::select(software, version, date) |> -->
<!--   dplyr::arrange(software) |> -->
<!--   knitr::kable(format = "html") |> -->
<!--   kableExtra::kable_material() -->
<!-- ``` -->

<!-- See the separate chapter on [logging](logging.qmd) for details about how to interface digital logging programs. -->

<!-- ### Networked logging -->

<!-- Special considerations are required for networked logging of the sort we often do for Field Day. -->
<!-- See details in the [chapter on logging](logging.qmd#networked-logging) and specifically @fig-narc1-n3fjp-networked-logging. -->

<!-- ## Remote Control -->

<!-- ### NARC1 -->

<!-- ```{r} -->
<!-- #| echo: false -->
<!-- #| label: tbl-narc1-remote -->
<!-- software_versions |> -->
<!--   dplyr::filter(type == "remote", station == "narc1") |> -->
<!--   dplyr::select(software, version, date) |> -->
<!--   dplyr::arrange(software) |> -->
<!--   knitr::kable(format = "html") |> -->
<!--   kableExtra::kable_material() -->
<!-- ``` -->

<!-- ### NARC2 -->

<!-- ```{r} -->
<!-- #| echo: false -->
<!-- #| label: tbl-narc2-remote -->
<!-- software_versions |> -->
<!--   dplyr::filter(type == "remote", station == "narc2") |> -->
<!--   dplyr::select(software, version, date) |> -->
<!--   dplyr::arrange(software) |> -->
<!--   knitr::kable(format = "html") |> -->
<!--   kableExtra::kable_material() -->
<!-- ``` -->
