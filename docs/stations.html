<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>W3TM - Stations</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./engagement.html" rel="next">
<link href="./power.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./stations.html"><span class="chapter-title">Stations</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">W3TM</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">About</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rigs.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Rigs</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./amplifiers.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Amplifiers</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./antennas.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Antennas</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./computers.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Computers</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./power.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Power</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stations.html" class="sidebar-item-text sidebar-link active"><span class="chapter-title">Stations</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./engagement.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Engagement</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./workbench.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Workbench</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ft-891.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">FT-891</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ic-9700.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">IC-9700</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#home" id="toc-home" class="nav-link active" data-scroll-target="#home">Home</a>
  <ul class="collapse">
  <li><a href="#shack" id="toc-shack" class="nav-link" data-scroll-target="#shack">Shack</a></li>
  <li><a href="#office" id="toc-office" class="nav-link" data-scroll-target="#office">Office</a></li>
  </ul></li>
  <li><a href="#mobile" id="toc-mobile" class="nav-link" data-scroll-target="#mobile">Mobile</a>
  <ul class="collapse">
  <li><a href="#kia-forte" id="toc-kia-forte" class="nav-link" data-scroll-target="#kia-forte">Kia Forte</a></li>
  <li><a href="#honda-crv" id="toc-honda-crv" class="nav-link" data-scroll-target="#honda-crv">Honda CRV</a></li>
  </ul></li>
  <li><a href="#portable" id="toc-portable" class="nav-link" data-scroll-target="#portable">Portable</a>
  <ul class="collapse">
  <li><a href="#vhfuhf-go-box" id="toc-vhfuhf-go-box" class="nav-link" data-scroll-target="#vhfuhf-go-box">VHF/UHF Go-box</a></li>
  <li><a href="#satellite-station" id="toc-satellite-station" class="nav-link" data-scroll-target="#satellite-station">Satellite station</a></li>
  <li><a href="#packet" id="toc-packet" class="nav-link" data-scroll-target="#packet">Packet</a></li>
  </ul></li>
  <li><a href="#remote" id="toc-remote" class="nav-link" data-scroll-target="#remote">Remote</a>
  <ul class="collapse">
  <li><a href="#flex-6400" id="toc-flex-6400" class="nav-link" data-scroll-target="#flex-6400">Flex-6400</a></li>
  <li><a href="#icom-ic-705" id="toc-icom-ic-705" class="nav-link" data-scroll-target="#icom-ic-705">ICOM IC-705</a></li>
  <li><a href="#icom-ic-7300" id="toc-icom-ic-7300" class="nav-link" data-scroll-target="#icom-ic-7300">ICOM IC-7300</a></li>
  <li><a href="#icom-ic-9700" id="toc-icom-ic-9700" class="nav-link" data-scroll-target="#icom-ic-9700">ICOM IC-9700</a></li>
  <li><a href="#narc-mountaintop-stations" id="toc-narc-mountaintop-stations" class="nav-link" data-scroll-target="#narc-mountaintop-stations">NARC mountaintop stations</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-title">Stations</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>This page describes various stations that I use.</p>
<section id="home" class="level2">
<h2 class="anchored" data-anchor-id="home">Home</h2>
<section id="shack" class="level3">
<h3 class="anchored" data-anchor-id="shack">Shack</h3>
<p>I have a small room in our basement set aside for my radio shack.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/home-shack-2023-12-reorg.jpeg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Operating position at W3TM</figcaption>
</figure>
</div>
<section id="aprs-i-gate" class="level4">
<h4 class="anchored" data-anchor-id="aprs-i-gate">APRS I-Gate</h4>
<p>The W3TM-11 APRS I-Gate uses the <a href="./rigs.html#kenwood-tm-281a">Kenwood TM-281A</a> connected to a Mac Mini running Ubuntu and the direwolf software TNC. I have a 2 m/70 cm J-pole antenna on the roof of my house at about 6 m from the ground.</p>
</section>
<section id="aprs-tt-station" class="level4">
<h4 class="anchored" data-anchor-id="aprs-tt-station">APRS-tt station</h4>
<p>Since fall of 2023, I have been experimenting with an APRS-tt (touch-tone) station using the <a href="./rigs.html#icom-ic-9700">IC-9700</a> connected to an Acer Laptop running Direwolf 1.7.</p>
<p>The station is configured to log-in to the APRS-IS network under W3TM-8. When the right sequence of DTMF tones is entered, I (and a couple of ham friends) are able to have our positions reported nearby some locations that are relevant to area hams: our mountaintop club station, the 146.85 W3YA and 146.76 W3GA repeaters, Hoss’s Restaurant, and the location where we hold our monthly club meetings.</p>
<p>More specific details about the rig and PC settings for this station can be found <a href="./ic-9700.html#aprs-tt">here</a>.</p>
</section>
<section id="hf-1" class="level4">
<h4 class="anchored" data-anchor-id="hf-1">HF 1</h4>
<p>My primary HF station that I am callign HF 1 just for fun uses the <a href="./rigs.html#flexradio-6400">FlexRadio 6400</a> transceiver. The Flex drives an <a href="./amplifiers.html#spe-expert-linear-1k">SPE Expert Linear 1K amplifier</a>. The radio has an <a href="https://www.flexradio.com/wp-content/uploads/M629__29896.1676037008.1280.1280.jpg">Inrad M629</a> microphone. An Acer laptop running <a href="https://www.flexradio.com/ssdr/ssdr-for-windows/">SmartSDR 3.5.9</a> is used to control the radio.</p>
</section>
<section id="hf-2" class="level4">
<h4 class="anchored" data-anchor-id="hf-2">HF 2</h4>
<p>My second HF station runs an <a href="./rigs.html#icom-ic-7300">IC-7300</a>. It also connects to the <a href="./amplifiers.html#spe-expert-linear-1k">SPE Expert Linear 1K amplifier</a>. I use either the stock hand mic or a <a href="https://heilhamradio.com/product/pro-set/#dipipopup-9149">Heil Proset iC</a> headset with a footswitch.</p>
</section>
<section id="allstar-node" class="level4">
<h4 class="anchored" data-anchor-id="allstar-node">Allstar node</h4>
<p>I have a <a href="https://www.node-ventures.com/buy-clearnode/">ClearNode</a> UHF Allstar node on 51401. The node also supports EchoLink (W3TM-L).</p>
<p>I used this node for the <a href="./engagement.html#pride-k3p">K3P</a> Special Event station in June 2023. At least two hams connected via the node to participate in the event.</p>
</section>
</section>
<section id="office" class="level3">
<h3 class="anchored" data-anchor-id="office">Office</h3>
<p>I have a home office that I also use as an operating position.</p>
<section id="hf-3-qrpvhfuhf" class="level4">
<h4 class="anchored" data-anchor-id="hf-3-qrpvhfuhf">HF 3 (QRP/VHF/UHF)</h4>
<p>A third HF station is located in my office. I’m running the <a href="./rigs.html#icom-ic-705">IC-705</a>. At the moment, the HF capability is receive-only, as I have a <a href="https://www.w6lvp.com/product/w6lvp-amplified-receive-only-magnetic-loop-antenna/">W6LVP</a> receive only magnetic loop for the HF antenna. The VHF/UHF side of the rig is connected to a slim jim antenna. Both antennas connect via a diplexer.</p>
</section>
<section id="allstar-node-1" class="level4">
<h4 class="anchored" data-anchor-id="allstar-node-1">Allstar node</h4>
<p>I have a <a href="https://www.node-ventures.com/buy-clearnode/">ClearNode</a> UHF Allstar node on 51401. The node also supports EchoLink (W3TM-L).</p>
<p>I used this node for the K3P Special Event station in June 2023. At least two hams connected via the node to participate in the event.</p>
</section>
</section>
</section>
<section id="mobile" class="level2">
<h2 class="anchored" data-anchor-id="mobile">Mobile</h2>
<section id="kia-forte" class="level3">
<h3 class="anchored" data-anchor-id="kia-forte">Kia Forte</h3>
<p>A <a href="./rigs.html#kenwood-tm-710ga">Kenwood TM-710GA</a> is used in this vehicle for FM (VHF &amp; UHF) voice communications. The rig also beacons APRS packets as W3TM-1. I usually have it configured with APRS voice alert.</p>
</section>
<section id="honda-crv" class="level3">
<h3 class="anchored" data-anchor-id="honda-crv">Honda CRV</h3>
<p>A <a href="./rigs.html#yaesu-FTM-400xdr">Yaesu FTM-400XDR</a> is used in this vehicle for FM (VHF &amp; UHF) voice communications. The rig also beacons APRS packets as W3TM-2. I usually have it configured with APRS voice alert.</p>
</section>
</section>
<section id="portable" class="level2">
<h2 class="anchored" data-anchor-id="portable">Portable</h2>
<section id="vhfuhf-go-box" class="level3">
<h3 class="anchored" data-anchor-id="vhfuhf-go-box">VHF/UHF Go-box</h3>
<p>I have a <a href="./rigs.html#tytera-tyt-th-8600">Tytera TYT-8600</a> radio in a small go-box configuration with an included 12 Ah Bioenno <span class="math inline">\(LiFePO_4\)</span> battery.</p>
</section>
<section id="satellite-station" class="level3">
<h3 class="anchored" data-anchor-id="satellite-station">Satellite station</h3>
<p>The <a href="./rigs.html#icom-ic-9700">IC-9700</a> forms the heart of my still-in-progress satellite station. Also new is the <a href="http://www.csntechnologies.net/sat">CSN Technologies Self-contained Antenna Tracker (S.A.T.)</a>. This interfaces with the IC-9700 and an antenna rotator. It provides a web browser interface for most controls. Within a few minutes of connecting it, I was able to monitor DX traffic (Alabama!) on the ISS FM repeater using my vertically oriented Comet antenna.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="http://www.csntechnologies.net/images/MatteBlackBoxTitle.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">CSN Technologies S.A.T.</figcaption>
</figure>
</div>
<p>Finally, I am assembling an <a href="https://www.m2inc.com/FGSATPACK1"><span class="math inline">\(M^2\)</span> SATPACK1</a> antenna array. If my initial forays go well, I may think about upgrading to a system with Yagis that can be pointed at satellites.</p>
</section>
<section id="packet" class="level3">
<h3 class="anchored" data-anchor-id="packet">Packet</h3>
<p>I’ve recently assembled a portable VHF packet/APRS/Winlink station. The radio is the <a href="./rigs.html#icom-id-51a">ICOM ID-51a</a>. A <a href="https://digirig.net">Digirig</a> device with a cable specifically designed for ICOM HTs provides sound card and PTT functions.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>The ID-51a supports CAT control via CI-V, and Digirig could support this. But CAT control is overkill for this use case. It’s trivial to change the radio frequency manually, and the mode does not need to change.</p>
<p>The Digirig cable takes the grounded speaker line from the ID-51a and sends it as an RTS signal to the computer. So, once I’ve set the packet software to use the correct COM port on the PC, PTT works well. The virtue of this scheme is that it can also work with other HTs.</p>
</div>
</div>
<p>An Evolve III netbook running Windows 10 runs the relevant software. I’m using the <a href="http://uz7.ho.ua/packetradio.htm">UH7HO Soundmodem</a> package for packet radio TNC services, <a href="https://github.com/wb2osz/direwolf">Dire Wolf</a> as an APRS TNC, and <a href="https://www.outpostpm.org/index.php">Outpost Packet Message Manager</a> as a packet terminal client. I also use <a href="https://www.winlink.org">Winlink</a>, and the <a href="https://rosmodem.wordpress.com">VARA FM</a> Winlink client, but of course, I could also use standard packet as the Winlink client.</p>
<p>The <a href="./rigs.html#icom-ic-705">IC-705</a> can also work as a portable FM + HF packet station using the same PC. I’m experimenting with making different copies of Soundmodem and VARA FM and then naming them for the different rig configurations, as neither package supports switching between multiple rigs.</p>
</section>
</section>
<section id="remote" class="level2">
<h2 class="anchored" data-anchor-id="remote">Remote</h2>
<p>One technical challenge I enjoy involves remote operations.</p>
<section id="flex-6400" class="level3">
<h3 class="anchored" data-anchor-id="flex-6400">Flex-6400</h3>
<p>The <a href="./rigs.html#flexradio-6400">Flex-6400</a> can be remotely operated via the SmartConnect link embedded in the radio’s software.</p>
<p>I especially enjoy using the <a href="https://roskosch.de/smartsdr-for-mac/">Mac OS</a> and <a href="https://roskosch.de/smartsdr-features/">iOS</a> SmartSDR clients. They work extremely well.</p>
</section>
<section id="icom-ic-705" class="level3">
<h3 class="anchored" data-anchor-id="icom-ic-705">ICOM IC-705</h3>
<p>The same developer of the SmartSDR for Mac and iOS has developed a set of applications for remote access to selected ICOM transceivers called SDR-Control. The application runs on <a href="https://roskosch.de/sdr-control/">MacOS</a>, <a href="https://roskosch.de/sdr-control-ios/">iPad</a>, and <a href="https://roskosch.de/sdr-control-mobile/">iPhone</a>.</p>
<p>I have successfully used SDR-Control to access my <a href="./rigs.html#icom-ic-705">IC-705</a>, and have tested it with another operator’s IC-7610.</p>
</section>
<section id="icom-ic-7300" class="level3">
<h3 class="anchored" data-anchor-id="icom-ic-7300">ICOM IC-7300</h3>
<p>The <a href="./rigs.html#icom-ic-7300">IC-7300</a> does not have the network circuitry needed to permit “out-of-the-box” control like the <a href="./rigs.html#icom-ic-705">IC-705</a> or IC-7610 using SDR-Control. Apparently, there is a USB control option that I have yet to explore.</p>
<p>However, I do use and enjoy remote control of my <a href="./rigs.html#icom-ic-7300">IC-7300</a> using the <a href="https://remotetx.net">RemoteTx.net service</a>. This service allows me to access my IC-7300 from a web browser.</p>
<p>I have experimented with remote control via an early version of the RigPi station server.</p>
</section>
<section id="icom-ic-9700" class="level3">
<h3 class="anchored" data-anchor-id="icom-ic-9700">ICOM IC-9700</h3>
<p>The <a href="./rigs.html#icom-ic-9700">9700</a> can be controlled remotely via the SDR-Control and SDR-Mobile apps.</p>
</section>
<section id="narc-mountaintop-stations" class="level3">
<h3 class="anchored" data-anchor-id="narc-mountaintop-stations">NARC mountaintop stations</h3>
<p>Some colleagues and I have been experimenting with remote access to the NARC mountaintop station’s IC-7610 and Flex 6400M radios. Access to the IC-7610 is easy via the MacOS SDR-Control or iOS SDR-Mobile apps, but this requires connecting to the NARC VPN. Access to the Flex 6400M can be made via SmartLink and SmartSDR for Windows, Mac OS, or iOS. We have a very nice array of antennas “up at the mountain,” so this has been an enjoyable experiment.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./power.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-title">Power</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./engagement.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-title">Engagement</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>